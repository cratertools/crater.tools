<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
<head>
    <title>{{ page.title | default: site.title }}</title>
    <meta name="keywords" content="{{ page.keywords | default: site.keywords }}">

    {% if page.app and site.data.apps[page.app] %}
        <meta name="description" content="{{ site.data.apps[page.app].description }}">
        <meta name="apple-itunes-app" content="app-id={{ site.data.apps[page.app].app_id }}">
        <link rel="alternate" href="{{ site.data.apps[page.app].app_store_url }}" title="Download on the App Store">
    {% else %}
        <meta name="description" content="{{ page.description | default: site.description }}">
    {% endif %}

    <meta name="author" content="{{ site.author | default: 'Piotr Bakker' }}">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="UTF-8">

    {% if page.app and site.data.apps[page.app] %}
        <meta property="og:title" content="{{ site.data.apps[page.app].name }}">
        <meta property="og:description" content="{{ site.data.apps[page.app].description }}">
        <meta property="og:type" content="website">
        <meta property="og:url" content="{{ page.url | absolute_url }}">
        <meta property="og:image" content="{{ '/assets/img/content.light-' | append: page.app | append: '-app-slide-w1920h1080@2x.png' | absolute_url }}">
        <meta property="og:image:width" content="1920">
        <meta property="og:image:height" content="1080">
    {% else %}
        <meta property="og:title" content="{{ page.title | default: site.title }}">
        <meta property="og:description" content="{{ page.description | default: site.description }}">
        <meta property="og:type" content="website">
        <meta property="og:url" content="{{ page.url | absolute_url }}">
        <meta property="og:image" content="{{ '/assets/img/content.light-calmetric-app-highlight-cropped-w450h500@3x.png' | absolute_url }}">
        <meta property="og:image:width" content="450">
        <meta property="og:image:height" content="500">
    {% endif %}

    {% include resources.html %}

    <script>
        document.documentElement.setAttribute(
        'data-bs-theme',
        window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
        );

        // Listen for changes to the system's color scheme
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
        document.documentElement.setAttribute('data-bs-theme', event.matches ? 'dark' : 'light');
        });
    </script>
</head>
<body>
    {% include navbar.html %}

    <main>
        {{ content }}
    </main>

    {% include footer.html %}
</body>
</html>
